<!DOCTYPE html> 
<html lang="en"> 
<head> 
  <meta charset="UTF-8" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0" /> 
  <title>موقع تقسيم طلاب المرحلة الرابعة</title> 
  <script type="module" crossorigin src="/hammurabi-4-stage/assets/index-DIKJYCb1.js"></script> 
  <link rel="stylesheet" crossorigin href="/hammurabi-4-stage/assets/index-B7FhIYK4.css"> 
</head> 
<body> 
  <div id="root"></div> 
  <script type="module"> 
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js"; 
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-analytics.js"; 

    const firebaseConfig = { 
      apiKey: "AIzaSyCDZZqUzXRAwh3RKaGp1unluBWYMWF2Q7s", 
      authDomain: "hammurabi-ccf6d.firebaseapp.com", 
      databaseURL: "https://hammurabi-ccf6d-default-rtdb.firebaseio.com", 
      projectId: "hammurabi-ccf6d", 
      storageBucket: "hammurabi-ccf6d.firebasestorage.app", 
      messagingSenderId: "257971367886", 
      appId: "1:257971367886:web:761013b57defa59a3b459f", 
      measurementId: "G-KS3SWR8LYC" 
    }; 

    const app = initializeApp(firebaseConfig); 
    const analytics = getAnalytics(app); 
    
    function addStudent(name, stage) { 
      const studentsRef = ref(db, "students"); 
      push(studentsRef, { name, stage }); 
    } 

    function listenStudents() { 
      const studentsRef = ref(db, "students"); 
      onValue(studentsRef, (snapshot) => { 
        const data = snapshot.val(); 
        const list = document.getElementById("students-list"); 
        list.innerHTML = ""; 
        for (let id in data) { 
          const student = data[id]; 
          const div = document.createElement("div"); 
          div.textContent = ${student.name} - المرحلة: ${student.stage}; 
          list.appendChild(div); 
        } 
      }); 
    } 

    listenStudents(); 

    document.getElementById("addBtn").addEventListener("click", () => { 
      const name = document.getElementById("nameInput").value.trim(); 
      const stage = document.getElementById("stageInput").value.trim(); 
      if (name && stage) { 
        addStudent(name, stage); 
        document.getElementById("nameInput").value = ""; 
        document.getElementById("stageInput").value = ""; 
      } 
    }); 
  </script> 
</body> 
</html>
